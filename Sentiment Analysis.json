{"paragraphs":[{"text":"import org.apache.spark.streaming._\nimport org.apache.spark.streaming.twitter._\nimport org.apache.spark.storage.StorageLevel\nimport scala.io.Source\nimport scala.collection.mutable.HashMap\nimport java.io.File\nimport org.apache.log4j.Logger\nimport org.apache.log4j.Level\nimport sys.process.stringSeqToProcess\nimport sqlContext._","dateUpdated":"2017-01-26T18:55:10-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485472931447_1724281018","id":"20170126-182211_828847594","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.streaming._\n\nimport org.apache.spark.streaming.twitter._\n\nimport org.apache.spark.storage.StorageLevel\n\nimport scala.io.Source\n\nimport scala.collection.mutable.HashMap\n\nimport java.io.File\n\nimport org.apache.log4j.Logger\n\nimport org.apache.log4j.Level\n\nimport sys.process.stringSeqToProcess\n\nimport sqlContext._\n"},"dateCreated":"2017-01-26T18:22:11-0500","dateStarted":"2017-01-26T18:55:10-0500","dateFinished":"2017-01-26T18:55:15-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:183"},{"text":"/** Configures the Oauth Credentials for accessing Twitter */\ndef configureTwitterCredentials(apiKey: String, apiSecret: String, accessToken: String, accessTokenSecret: String) {\n  val configs = new HashMap[String, String] ++= Seq(\n    \"apiKey\" -> apiKey, \"apiSecret\" -> apiSecret, \"accessToken\" -> accessToken, \"accessTokenSecret\" -> accessTokenSecret)\n  println(\"Configuring Twitter OAuth\")\n  configs.foreach{ case(key, value) =>\n    if (value.trim.isEmpty) {\n      throw new Exception(\"Error setting authentication - value for \" + key + \" not set\")\n    }\n    val fullKey = \"twitter4j.oauth.\" + key.replace(\"api\", \"consumer\")\n    System.setProperty(fullKey, value.trim)\n    println(\"\\tProperty \" + fullKey + \" set as [\" + value.trim + \"]\")\n  }\n  println()\n}","dateUpdated":"2017-01-26T18:55:17-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485473539645_-1895162443","id":"20170126-183219_542086593","result":{"code":"SUCCESS","type":"TEXT","msg":"\nconfigureTwitterCredentials: (apiKey: String, apiSecret: String, accessToken: String, accessTokenSecret: String)Unit\n"},"dateCreated":"2017-01-26T18:32:19-0500","dateStarted":"2017-01-26T18:55:17-0500","dateFinished":"2017-01-26T18:55:18-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:184"},{"text":"// Configure Twitter credentials\nval apiKey = \"x7Jd43YiH41HmmgxH45MTtweo\"\nval apiSecret = \"ifRK3j5vmsogMCyjfN1cGPAp5RD7KSnNWRCkAKW4qeVV7oOOHz\"\nval accessToken = \"2425726722-U6e2ICxctbYMIBel0fApsRKoSvZFyc4krYHCUo9\"\nval accessTokenSecret = \"wOFdXuXkvjIzSVBawcN6qgb4P6NiKAh58pyVeZCeZ7cxZ\"\nconfigureTwitterCredentials(apiKey, apiSecret, accessToken, accessTokenSecret)\n","dateUpdated":"2017-01-26T18:55:22-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485473715055_65349910","id":"20170126-183515_972288474","result":{"code":"SUCCESS","type":"TEXT","msg":"\napiKey: String = x7Jd43YiH41HmmgxH45MTtweo\n\napiSecret: String = ifRK3j5vmsogMCyjfN1cGPAp5RD7KSnNWRCkAKW4qeVV7oOOHz\n\naccessToken: String = 2425726722-U6e2ICxctbYMIBel0fApsRKoSvZFyc4krYHCUo9\n\naccessTokenSecret: String = wOFdXuXkvjIzSVBawcN6qgb4P6NiKAh58pyVeZCeZ7cxZ\nConfiguring Twitter OAuth\n\tProperty twitter4j.oauth.consumerKey set as [x7Jd43YiH41HmmgxH45MTtweo]\n\tProperty twitter4j.oauth.accessToken set as [2425726722-U6e2ICxctbYMIBel0fApsRKoSvZFyc4krYHCUo9]\n\tProperty twitter4j.oauth.consumerSecret set as [ifRK3j5vmsogMCyjfN1cGPAp5RD7KSnNWRCkAKW4qeVV7oOOHz]\n\tProperty twitter4j.oauth.accessTokenSecret set as [wOFdXuXkvjIzSVBawcN6qgb4P6NiKAh58pyVeZCeZ7cxZ]\n\n"},"dateCreated":"2017-01-26T18:35:15-0500","dateStarted":"2017-01-26T18:55:22-0500","dateFinished":"2017-01-26T18:55:24-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:185"},{"text":"import org.apache.spark.streaming.twitter._\nval ssc = new StreamingContext(sc, Seconds(2))\nval tweets = TwitterUtils.createStream(ssc, None)\nval twt = tweets.window(Seconds(60))","dateUpdated":"2017-01-26T18:55:27-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485473870334_-1513092582","id":"20170126-183750_1192586693","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.streaming.twitter._\n\nssc: org.apache.spark.streaming.StreamingContext = org.apache.spark.streaming.StreamingContext@5bc9df39\n\ntweets: org.apache.spark.streaming.dstream.ReceiverInputDStream[twitter4j.Status] = org.apache.spark.streaming.twitter.TwitterInputDStream@5852ef60\n\ntwt: org.apache.spark.streaming.dstream.DStream[twitter4j.Status] = org.apache.spark.streaming.dstream.WindowedDStream@65adeb32\n"},"dateCreated":"2017-01-26T18:37:50-0500","dateStarted":"2017-01-26T18:55:27-0500","dateFinished":"2017-01-26T18:55:29-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:186"},{"text":"case class Tweet(createdAt:Long, text:String)\ntwt.map(status=>\n  Tweet(status.getCreatedAt().getTime()/1000, status.getText())\n).foreachRDD(rdd=>\n  // Below line works only in spark 1.3.0.\n  // For spark 1.1.x and spark 1.2.x,\n  // use rdd.registerTempTable(\"tweets\") instead.\n // rdd.toDF().registerAsTable(\"tweets\")\n  rdd.toDF().registerTempTable(\"tweets\")\n\n)\n\ntwt.print\n\nssc.start()","dateUpdated":"2017-01-26T18:56:46-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485473894897_1919683077","id":"20170126-183814_914745868","result":{"code":"SUCCESS","type":"TEXT","msg":"\ndefined class Tweet\n\nwarning: there was one deprecation warning; re-run with -deprecation for details\n"},"dateCreated":"2017-01-26T18:38:14-0500","dateStarted":"2017-01-26T18:56:46-0500","dateFinished":"2017-01-26T18:56:48-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:187"},{"text":"%sql\nselect * from tweets where text like '%trump%' limit 10","dateUpdated":"2017-01-26T19:02:31-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"createdAt","index":0,"aggr":"sum"}],"values":[{"name":"text","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"createdAt","index":0,"aggr":"sum"},"yAxis":{"name":"text","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485473931991_370561412","id":"20170126-183851_691621411","result":{"code":"SUCCESS","type":"TABLE","msg":"createdAt\ttext\n1485475291\ttrump je pense qu'avec ce gars un nouvel ordre mondial est en marche 😬 https://t.co/XumzdOZCIE\n1485475296\tRT @JordanUhl: rt if trump needs to stop talking about himself\n1485475316\tRT @TampQro: @BorrachosVIP Si yo fuera trump ya habría firmado estas ordenes https://t.co/ZnFAUF3vXG\n1485475321\tI'm sure tiny hands will have #alternativefacts  about this. #nevermypresident #trumpleaks #kakistocracy… https://t.co/YBlnUXdf2b\n1485475322\tRT @america_trump: https://t.co/zc9L8bX7E2\n1485475328\tRT @dumptrump33: THIS has no place in the White House. Not even a dog house. #RemoveBannon https://t.co/2pFs1OufZp\n1485475342\tRT @sticocundi1983: mit den meisten sexuellen Strumpfhosen und https://t.co/bVgTYan3MA\n","comment":"","msgTable":[[{"key":"text","value":"1485475291"},{"key":"text","value":"trump je pense qu'avec ce gars un nouvel ordre mondial est en marche 😬 https://t.co/XumzdOZCIE"}],[{"value":"1485475296"},{"value":"RT @JordanUhl: rt if trump needs to stop talking about himself"}],[{"value":"1485475316"},{"value":"RT @TampQro: @BorrachosVIP Si yo fuera trump ya habría firmado estas ordenes https://t.co/ZnFAUF3vXG"}],[{"value":"1485475321"},{"value":"I'm sure tiny hands will have #alternativefacts  about this. #nevermypresident #trumpleaks #kakistocracy… https://t.co/YBlnUXdf2b"}],[{"value":"1485475322"},{"value":"RT @america_trump: https://t.co/zc9L8bX7E2"}],[{"value":"1485475328"},{"value":"RT @dumptrump33: THIS has no place in the White House. Not even a dog house. #RemoveBannon https://t.co/2pFs1OufZp"}],[{"value":"1485475342"},{"value":"RT @sticocundi1983: mit den meisten sexuellen Strumpfhosen und https://t.co/bVgTYan3MA"}]],"columnNames":[{"name":"createdAt","index":0,"aggr":"sum"},{"name":"text","index":1,"aggr":"sum"}],"rows":[["1485475291","trump je pense qu'avec ce gars un nouvel ordre mondial est en marche 😬 https://t.co/XumzdOZCIE"],["1485475296","RT @JordanUhl: rt if trump needs to stop talking about himself"],["1485475316","RT @TampQro: @BorrachosVIP Si yo fuera trump ya habría firmado estas ordenes https://t.co/ZnFAUF3vXG"],["1485475321","I'm sure tiny hands will have #alternativefacts  about this. #nevermypresident #trumpleaks #kakistocracy… https://t.co/YBlnUXdf2b"],["1485475322","RT @america_trump: https://t.co/zc9L8bX7E2"],["1485475328","RT @dumptrump33: THIS has no place in the White House. Not even a dog house. #RemoveBannon https://t.co/2pFs1OufZp"],["1485475342","RT @sticocundi1983: mit den meisten sexuellen Strumpfhosen und https://t.co/bVgTYan3MA"]]},"dateCreated":"2017-01-26T18:38:51-0500","dateStarted":"2017-01-26T19:02:31-0500","dateFinished":"2017-01-26T19:02:32-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:188"},{"text":"%sql\nselect createdAt, count(1) from tweets group by createdAt order by createdAt","dateUpdated":"2017-01-26T19:03:41-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485475272886_-285338584","id":"20170126-190112_699491417","result":{"code":"SUCCESS","type":"TABLE","msg":"createdAt\tcount(1)\n1485475359\t33\n1485475360\t32\n1485475361\t37\n1485475362\t39\n1485475363\t31\n1485475364\t37\n1485475365\t64\n1485475366\t33\n1485475367\t34\n1485475368\t52\n1485475369\t34\n1485475370\t32\n1485475371\t45\n1485475372\t32\n1485475373\t36\n1485475374\t33\n1485475375\t33\n1485475376\t44\n1485475377\t33\n1485475378\t32\n1485475379\t33\n1485475380\t51\n1485475381\t63\n1485475382\t39\n1485475383\t55\n1485475384\t45\n1485475385\t46\n1485475386\t54\n1485475387\t39\n1485475388\t43\n1485475389\t47\n1485475390\t40\n1485475391\t52\n1485475392\t46\n1485475393\t40\n1485475394\t51\n1485475395\t39\n1485475396\t46\n1485475397\t36\n1485475398\t37\n1485475399\t38\n1485475400\t33\n1485475401\t41\n1485475402\t37\n1485475403\t42\n1485475404\t48\n1485475405\t42\n1485475406\t45\n1485475407\t34\n1485475408\t47\n1485475409\t37\n1485475410\t27\n1485475411\t41\n1485475412\t48\n1485475413\t36\n1485475414\t38\n1485475415\t41\n1485475416\t38\n1485475417\t32\n1485475418\t38\n","comment":"","msgTable":[[{"key":"count(1)","value":"1485475359"},{"key":"count(1)","value":"33"}],[{"value":"1485475360"},{"value":"32"}],[{"value":"1485475361"},{"value":"37"}],[{"value":"1485475362"},{"value":"39"}],[{"value":"1485475363"},{"value":"31"}],[{"value":"1485475364"},{"value":"37"}],[{"value":"1485475365"},{"value":"64"}],[{"value":"1485475366"},{"value":"33"}],[{"value":"1485475367"},{"value":"34"}],[{"value":"1485475368"},{"value":"52"}],[{"value":"1485475369"},{"value":"34"}],[{"value":"1485475370"},{"value":"32"}],[{"value":"1485475371"},{"value":"45"}],[{"value":"1485475372"},{"value":"32"}],[{"value":"1485475373"},{"value":"36"}],[{"value":"1485475374"},{"value":"33"}],[{"value":"1485475375"},{"value":"33"}],[{"value":"1485475376"},{"value":"44"}],[{"value":"1485475377"},{"value":"33"}],[{"value":"1485475378"},{"value":"32"}],[{"value":"1485475379"},{"value":"33"}],[{"value":"1485475380"},{"value":"51"}],[{"value":"1485475381"},{"value":"63"}],[{"value":"1485475382"},{"value":"39"}],[{"value":"1485475383"},{"value":"55"}],[{"value":"1485475384"},{"value":"45"}],[{"value":"1485475385"},{"value":"46"}],[{"value":"1485475386"},{"value":"54"}],[{"value":"1485475387"},{"value":"39"}],[{"value":"1485475388"},{"value":"43"}],[{"value":"1485475389"},{"value":"47"}],[{"value":"1485475390"},{"value":"40"}],[{"value":"1485475391"},{"value":"52"}],[{"value":"1485475392"},{"value":"46"}],[{"value":"1485475393"},{"value":"40"}],[{"value":"1485475394"},{"value":"51"}],[{"value":"1485475395"},{"value":"39"}],[{"value":"1485475396"},{"value":"46"}],[{"value":"1485475397"},{"value":"36"}],[{"value":"1485475398"},{"value":"37"}],[{"value":"1485475399"},{"value":"38"}],[{"value":"1485475400"},{"value":"33"}],[{"value":"1485475401"},{"value":"41"}],[{"value":"1485475402"},{"value":"37"}],[{"value":"1485475403"},{"value":"42"}],[{"value":"1485475404"},{"value":"48"}],[{"value":"1485475405"},{"value":"42"}],[{"value":"1485475406"},{"value":"45"}],[{"value":"1485475407"},{"value":"34"}],[{"value":"1485475408"},{"value":"47"}],[{"value":"1485475409"},{"value":"37"}],[{"value":"1485475410"},{"value":"27"}],[{"value":"1485475411"},{"value":"41"}],[{"value":"1485475412"},{"value":"48"}],[{"value":"1485475413"},{"value":"36"}],[{"value":"1485475414"},{"value":"38"}],[{"value":"1485475415"},{"value":"41"}],[{"value":"1485475416"},{"value":"38"}],[{"value":"1485475417"},{"value":"32"}],[{"value":"1485475418"},{"value":"38"}]],"columnNames":[{"name":"createdAt","index":0,"aggr":"sum"},{"name":"count(1)","index":1,"aggr":"sum"}],"rows":[["1485475359","33"],["1485475360","32"],["1485475361","37"],["1485475362","39"],["1485475363","31"],["1485475364","37"],["1485475365","64"],["1485475366","33"],["1485475367","34"],["1485475368","52"],["1485475369","34"],["1485475370","32"],["1485475371","45"],["1485475372","32"],["1485475373","36"],["1485475374","33"],["1485475375","33"],["1485475376","44"],["1485475377","33"],["1485475378","32"],["1485475379","33"],["1485475380","51"],["1485475381","63"],["1485475382","39"],["1485475383","55"],["1485475384","45"],["1485475385","46"],["1485475386","54"],["1485475387","39"],["1485475388","43"],["1485475389","47"],["1485475390","40"],["1485475391","52"],["1485475392","46"],["1485475393","40"],["1485475394","51"],["1485475395","39"],["1485475396","46"],["1485475397","36"],["1485475398","37"],["1485475399","38"],["1485475400","33"],["1485475401","41"],["1485475402","37"],["1485475403","42"],["1485475404","48"],["1485475405","42"],["1485475406","45"],["1485475407","34"],["1485475408","47"],["1485475409","37"],["1485475410","27"],["1485475411","41"],["1485475412","48"],["1485475413","36"],["1485475414","38"],["1485475415","41"],["1485475416","38"],["1485475417","32"],["1485475418","38"]]},"dateCreated":"2017-01-26T19:01:12-0500","dateStarted":"2017-01-26T19:03:41-0500","dateFinished":"2017-01-26T19:03:45-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:189"},{"text":"def sentiment(s:String) : String = {\n    val positive = Array(\"like\", \"love\", \"good\", \"great\", \"happy\", \"cool\", \"the\", \"one\", \"that\")\n    val negative = Array(\"hate\", \"bad\", \"stupid\", \"is\")\n\n    var st = 0;\n\n    val words = s.split(\" \")    \n    positive.foreach(p =>\n        words.foreach(w =>\n            if(p==w) st = st+1\n        )\n    )\n\n    negative.foreach(p=>\n        words.foreach(w=>\n            if(p==w) st = st-1\n        )\n    )\n    if(st>0)\n        \"positivie\"\n    else if(st<0)\n        \"negative\"\n    else\n        \"neutral\"\n}\n\n// Below line works only in spark 1.3.0.\n// For spark 1.1.x and spark 1.2.x,\n// use sqlc.registerFunction(\"sentiment\", sentiment _) instead.\nsqlc.udf.register(\"sentiment\", sentiment _)\n","dateUpdated":"2017-01-26T19:05:38-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485475413873_-817999628","id":"20170126-190333_1961633686","result":{"code":"SUCCESS","type":"TEXT","msg":"\nsentiment: (s: String)String\n\nres21: org.apache.spark.sql.expressions.UserDefinedFunction = UserDefinedFunction(<function1>,StringType,Some(List(StringType)))\n"},"dateCreated":"2017-01-26T19:03:33-0500","dateStarted":"2017-01-26T19:05:38-0500","dateFinished":"2017-01-26T19:05:40-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:190"},{"text":"%sql\nselect sentiment(text), count(1) from tweets where text like '%trump%' group by sentiment(text)","dateUpdated":"2017-01-26T19:06:20-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485475538892_198673888","id":"20170126-190538_1629763950","result":{"code":"SUCCESS","type":"TABLE","msg":"UDF(text)\tcount(1)\nneutral\t3\n","comment":"","msgTable":[[{"key":"count(1)","value":"neutral"},{"key":"count(1)","value":"3"}]],"columnNames":[{"name":"UDF(text)","index":0,"aggr":"sum"},{"name":"count(1)","index":1,"aggr":"sum"}],"rows":[["neutral","3"]]},"dateCreated":"2017-01-26T19:05:38-0500","dateStarted":"2017-01-26T19:06:20-0500","dateFinished":"2017-01-26T19:06:23-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:191"},{"text":"","dateUpdated":"2017-01-26T19:06:31-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485475580565_1626354463","id":"20170126-190620_256479736","dateCreated":"2017-01-26T19:06:20-0500","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:192"}],"name":"Sentiment Analysis","id":"2CA35A31H","angularObjects":{"2C7RYPPYK:shared_process":[],"2C9HEUZ54:shared_process":[],"2C7A9NFYK:shared_process":[],"2C96YJ3WR:shared_process":[],"2C96W5VUK:shared_process":[],"2C9GDTUD7:shared_process":[],"2C7Z34GDP:shared_process":[],"2C6Q8BUFK:shared_process":[],"2C9UF5FEM:shared_process":[],"2C6YD2ST1:shared_process":[],"2C7B7DFAK:shared_process":[],"2C8M56Z4E:shared_process":[],"2C7YQ44ZT:shared_process":[],"2C9G7ZCK5:shared_process":[],"2C6CW8PA1:shared_process":[],"2C9M5EJKV:shared_process":[],"2C6W855F7:shared_process":[],"2C8CBRP9V:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}